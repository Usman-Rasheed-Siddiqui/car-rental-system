
{% block content %}

<style>
    .form-row {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
        max-width: 700px;
    }
    .form-group {
        flex: 1;
    }
    .term-check {
        margin-top: 20px 0;
    }
</style>

<div style="margin-left: 30px">
    <form method="POST" action="" enctype="multipart/form-data" style="margin-left: 70px;"> 
        {% csrf_token %}

        <div class="form-row" style="max-width: 900px;">
            <div class="form-group">
                
                <div class="image" style="margin-top: 40px;">
                    <label for="validationCustomUsername" class="form-label"><h4>Profile Picture</h4></label>
                    <img src="{{ user_info.profile_picture.url }}" class="rounded mx-auto d-block" alt="{{ form.username.value }}" style="max-height: 200px; max-width: 200px;">
                </div>

                <div class="choose-file" style="margin-top: 20px; max-width: 500px; margin-left: auto; margin-right: auto;">
                    <div class="mb-3">
                        <input class="form-control" type="file" name="profile_picture" id="id_profile_picture" {% if not can_edit %}disabled readonly{% endif %}>
                    </div>
                </div>

            </div>
        </div>

        <div class="form-row" style="max-width: 900px;">
            <div class="form-group" style="margin-top: 20px;">
                <label for="validationCustomUsername" class="form-label"><h4>Username</h4></label>
                <div class="input-group has-validation">
                    <span class="input-group-text" id="inputGroupPrepend">@</span>
                    <input class="form-control" type="text" value="{{ form.username.value }}" aria-label="Disabled input example" disabled readonly>
                </div>
            </div>

            <div class="form-group" style="margin-top: 20px;">
                <label for="exampleFormControlInput1" class="form-label"><h4>Email address</h4></label>
                <div class="input-group has-validation">
                    <span class="input-group-text" id="inputGroupPrepend"></span>
                    <input class="form-control" type="email" value="{{ form.email.value }}" aria-label="Disabled input example" disabled readonly>
                </div>
            </div>
        </div>

        <div class="form-row" style="max-width: 900px;">
            <div class="form-group" style="margin-top: 20px;">
                <label for="exampleFormControlInput1" class="form-label"><h4>First Name</h4></label>
                <div class="input-group has-validation">
                    <span class="input-group-text" id="inputGroupPrepend"></span>
                    <input class="form-control" type="text" value="{{ request.user.first_name }}" name="first_name" id="id_first_name" {% if not can_edit %}disabled readonly{% endif %}>
                </div>
            </div>

            <div class="form-group" style="margin-top: 20px;">
                <label for="exampleFormControlInput1" class="form-label"><h4>Last Name</h4></label>
                <div class="input-group has-validation">
                    <span class="input-group-text" id="inputGroupPrepend"></span>
                    <input class="form-control" type="text" value="{{ request.user.last_name }}" name="last_name" id="id_last_name" {% if not can_edit %}disabled readonly{% endif %}>
                </div>
            </div>
        </div>

        <div class="form-row d-flex justify-content-center" style="margin-top: 40px; margin-left: 100px;">
            {% if can_edit %}
                <div class="save-button">
                    <button type="submit" class="btn btn-dark mb-3" style="width: 200px;">Save</button>
                </div>
            {% else %}
                <div class="update-button">
                    <a href="?edit=1" class="btn btn-dark mb-3" style="width: 200px;">Update</a>
                </div>
            {% endif %} 
        </div>
    </form>
</div>

{% endblock %}